<script type="text/javascript">
	window.threadviewer = {
		"rootPath" : "${rootPath}" 
	};
</script>

<style>
.tablesorter {
	width: 100%
}

.tablesorter td.thread-id {
	padding-left: 10px
}

.tablesorter td.thread-name div.thread-name {
	cursor: pointer
}

table.stacktrace {
	margin: 15px 15px 15px 15px;	
}

table.stacktrace th {
	font-weight: bold; 
	padding: 3px 3px 3px 3px
}

table.stacktrace td {
	padding: 3px 3px 3px 3px;
	font-family: monospace;
}
</style>


<script type="text/javascript" src="${rootPath}/underscore-min.js"></script>
<script type="text/javascript" src="${rootPath}/backbone.js"></script>
<script type="text/javascript" src="${rootPath}/app/models.js"></script>
<script type="text/javascript" src="${rootPath}/app/views.js"></script>
<script type="text/javascript" src="${rootPath}/threadviewer.js"></script>

<p class="statline ui-state-highlight"></p>

<div id="cnt-thread-list"></div>

<script type="text/template" id="tmpl-thread-row">
	<td class="thread-id"><%= thread.get("id") %></td>
	<td class="thread-name">
		<div class="thread-name"><%= thread.get("name") %></div>
	</td>
	<td><%= thread.get("state") %></td>
	<td>
		<ul class="icons ui-widgets">
			<li class="dynhover ui-state-default ui-corner-all" title="Interrupt">
				<span class="ui-icon ui-icon-stop"></span>
			</li>
		</ul>
	</td>
</script>

<script type="text/template" id="tmpl-thread-list">
	<table class="tablesorter">
		<thead>
			<tr>
				<th class="ui-widget-header header">Thread ID</th>
				<th class="ui-widget-header header">Thread Name</th>
				<th class="ui-widget-header header">State</th>
				<th class="ui-widget-header header">Actions</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
</script>

<script type="text/template" id="tmpl-stacktrace">
	<table class="stacktrace">
		<thead>
			<tr>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<% _.each(stackTrace, function(entry) { %>
			<tr>
				<td><%= entry.description %></td>
			</tr>
			<% }); %>
		</tbody>
	</table>
</script>